{% extends "admin/base.html" %}
{% load static %}

{% block title %}{{ opts.verbose_name_plural|capfirst }} - Administration{% endblock %}

{% block section_title %}{{ opts.verbose_name_plural|capfirst }}{% endblock %}

{% block section_content %}
<div class="table-responsive">
    <table class="admin-table">
        <thead>
            <tr>
                {% for field in cl.result_headers %}
                <th>{{ field.text|capfirst }}</th>
                {% endfor %}
                <th>Actions</th>
            </tr>
        </thead>
        <tbody>
            {% for result in cl.result_list %}
            <tr>
                {% for item in result %}
                <td>{{ item }}</td>
                {% endfor %}
                <td>
                    <a href="{% url 'admin:%s_%s_change' opts.app_label opts.model_name result.pk %}" class="btn-outline">
                        <i class="fas fa-edit"></i> Modifier
                    </a>
                    <a href="{% url 'admin:%s_%s_delete' opts.app_label opts.model_name result.pk %}" class="btn-outline" style="color: #dc2626;">
                        <i class="fas fa-trash"></i> Supprimer
                    </a>
                </td>
            </tr>
            {% empty %}
            <tr>
                <td colspan="{{ cl.result_headers|length|add:1 }}" class="text-center">
                    Aucun {{ opts.verbose_name|lower }} trouvé(e)
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>

<div class="pagination">
    {% if cl.result_list.has_previous %}
        <a href="?page={{ cl.result_list.previous_page_number }}" class="pagination-link">&laquo; Précédent</a>
    {% endif %}
    
    <span>
        Page {{ cl.result_list.number }} sur {{ cl.result_list.paginator.num_pages }}
    </span>
    
    {% if cl.result_list.has_next %}
        <a href="?page={{ cl.result_list.next_page_number }}" class="pagination-link">Suivant &raquo;</a>
    {% endif %}
</div>

<div class="admin-actions">
    <a href="{% url 'admin:%s_%s_add' opts.app_label opts.model_name %}" class="btn-primary">
        <i class="fas fa-plus"></i> Ajouter {{ opts.verbose_name|lower }}
    </a>
</div>
{% endblock %}